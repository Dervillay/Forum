<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Meta tags for Bootstrap -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Import CSS stylesheet -->
  <link rel="stylesheet" type="text/css" href="style.css">

  <!-- Imports For Boostrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <!-- Page Title -->
  <title>Forum</title>

  <!-- Navbar -->
  <nav class="navbar fixed-top navbar-dark bg-dark">
    <a class="navbar-brand mb-0 h1" href="#">Forum</a>
    <form id="search" class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="text" id="query" onkeyup="searchPage()" placeholder="Search...">
      <button class="btn btn-secondary my-2 my-sm-0 center" type="submit">Search</button>
    </form>
    <a href="#"><button type="button" class="btn btn-primary" id="makePost" onclick="openForm()">Make a Post</button></a>
  </nav>

  <!-- Pop-up form -->
  <div class="form-popup hidden" id="form">
        <form action="http://127.0.0.1:8090/addUser" method="POST" class="jumbotron form p-3 m-3">
          <h1>Make a Post</h1>

          <input type="text" placeholder="Enter Username" name="username" class="m-1" required><br>
          <textarea rows="4" cols="85" placeholder="Enter Message" id="message" class="m-1" required></textarea>

          <div>
            <button type="submit" class="btn btn-primary">Post</button>
            <button type="submit" class="btn btn-secondary cancel" onclick="closeForm()">Close</button>
          </div>

        </form>
  </div>

</head>

<body>

  <!-- Posts -->
  <ul id="posts">

  <li>
  <a>
  <div class="container-fluid container-user">
    <div class="jumbotron post p-3">
      <img src="images/default_user.jpeg" alt="user_icon" class="user"> <p>User 1</p>
      <div class="jumbotron comment p-3">
        Sample text sample text sample text sample text sample text sample text
        sample text sample text sample text sample text sample text sample text
      </div>
    </div>
  </div>
  </a>
  </li>

  <li>
  <a>
  <div class="container-fluid container-user">
    <div class="jumbotron post p-3">
      <img src="images/default_user.jpeg" alt="user_icon" class="user"> <p>User 2</p>
      <div class="jumbotron comment p-3">
        Sample text sample text sample text sample text sample text sample text
        sample text sample text sample text sample text sample text sample text
      </div>
    </div>
  </div>
  </a>
  </li>

  <li>
  <a>
  <div class="container-fluid container-user">
    <div class="jumbotron post p-3">
      <img src="images/default_user.jpeg" alt="user_icon" class="user"> <p>User 3</p>
      <div class="jumbotron comment p-3">
        Sample text sample text sample text sample text sample text sample text
        sample text sample text sample text sample text sample text sample text
      </div>
    </div>
  </div>
  </a>
  </li>

  <li>
  <a>
  <div class="container-fluid container-user">
    <div class="jumbotron post p-3">
      <img src="images/default_user.jpeg" alt="user_icon" class="user"> <p>User 4</p>
      <div class="jumbotron comment p-3">
        Sample text sample text sample text sample text sample text sample text
        sample text sample text sample text sample text sample text sample text
      </div>
    </div>
  </div>
  </a>
  </li>

  </ul>

  <!-- Script for search function -->
  <script>
    function searchPage() {

      // Declares all relevant variables
      var input, filter, ul, li, a, i, txtValue;

      // Gets search query
      input = document.getElementById('query');

      // Makes search function case insensitive
      filter = input.value.toUpperCase();

      ul = document.getElementById("posts");
      li = ul.getElementsByTagName('li');

      // Loop through all list items, and hide those that don't match the query
      for (i = 0; i < li.length; i++) {

        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;

        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }

      }
    }

    function openForm() {
      document.getElementById("form").style.display = "block";
      document.getElementById("makePost").style.display = "none";
    }

    function closeForm() {
      document.getElementById("form").style.display = "none";
      document.getElementById("makePost").style.display = "block";
    }
  </script>

</body>

</html>
